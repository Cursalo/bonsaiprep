{"ast":null,"code":"import React,{useState}from'react';import{Container,TextField,Button,Typography,Box,Alert}from'@mui/material';import{supabase}from'../supabaseClient';// Uncommented and assuming it's in the parent directory\nimport{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[message,setMessage]=useState(null);const navigate=useNavigate();const handleLogin=async event=>{event.preventDefault();setError(null);setMessage(null);setLoading(true);try{const{error:signInError}=await supabase.auth.signInWithPassword({email,password});if(signInError)throw signInError;setMessage('Login successful! Redirecting to dashboard...');setTimeout(()=>navigate('/dashboard'),1500);}catch(err){setError(err.message||'An unexpected error occurred.');}setLoading(false);};const handleSignup=async event=>{event.preventDefault();setError(null);setMessage(null);setLoading(true);try{const{error:signUpError}=await supabase.auth.signUp({email,password// options: {\n//   emailRedirectTo: window.location.origin, // Or your specific redirect page\n// }\n});if(signUpError)throw signUpError;setMessage('Signup successful! Check your email for verification.');}catch(err){setError(err.message||'An unexpected error occurred.');}setLoading(false);};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xs\",sx:{mt:8},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,align:\"center\",children:\"Login / Sign Up\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),message&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{mb:2},children:message}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleLogin,sx:{mb:4},children:[/*#__PURE__*/_jsx(TextField,{label:\"Email\",type:\"email\",fullWidth:true,margin:\"normal\",value:email,onChange:e=>setEmail(e.target.value),required:true,autoComplete:\"email\"}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",fullWidth:true,margin:\"normal\",value:password,onChange:e=>setPassword(e.target.value),required:true,autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,disabled:loading,sx:{mt:2},children:loading?'Logging in...':'Login'}),/*#__PURE__*/_jsx(Button,{onClick:handleSignup,variant:\"outlined\",color:\"secondary\",fullWidth:true,disabled:loading,sx:{mt:1},children:loading?'Signing up...':'Sign Up'})]})]});};export default Login;","map":{"version":3,"names":["React","useState","Container","TextField","Button","Typography","Box","Alert","supabase","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","loading","setLoading","error","setError","message","setMessage","navigate","handleLogin","event","preventDefault","signInError","auth","signInWithPassword","setTimeout","err","handleSignup","signUpError","signUp","maxWidth","sx","mt","children","variant","component","gutterBottom","align","severity","mb","onSubmit","label","type","fullWidth","margin","value","onChange","e","target","required","autoComplete","color","disabled","onClick"],"sources":["/Users/gerardo/Downloads/Bonsaito/src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Container, TextField, Button, Typography, Box, Alert } from '@mui/material';\nimport { supabase } from '../supabaseClient'; // Uncommented and assuming it's in the parent directory\nimport { useNavigate } from 'react-router-dom';\n\nconst Login: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [message, setMessage] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  const handleLogin = async (event: React.FormEvent) => {\n    event.preventDefault();\n    setError(null);\n    setMessage(null);\n    setLoading(true);\n    try {\n      const { error: signInError } = await supabase.auth.signInWithPassword({ email, password });\n      if (signInError) throw signInError;\n      setMessage('Login successful! Redirecting to dashboard...');\n      setTimeout(() => navigate('/dashboard'), 1500); \n    } catch (err: any) {\n      setError(err.message || 'An unexpected error occurred.');\n    }\n    setLoading(false);\n  };\n\n  const handleSignup = async (event: React.FormEvent) => {\n    event.preventDefault();\n    setError(null);\n    setMessage(null);\n    setLoading(true);\n    try {\n      const { error: signUpError } = await supabase.auth.signUp({ \n        email, \n        password,\n        // options: {\n        //   emailRedirectTo: window.location.origin, // Or your specific redirect page\n        // }\n      });\n      if (signUpError) throw signUpError;\n      setMessage('Signup successful! Check your email for verification.');\n    } catch (err: any) {\n      setError(err.message || 'An unexpected error occurred.');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <Container maxWidth=\"xs\" sx={{ mt: 8 }}>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n        Login / Sign Up\n      </Typography>\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n      {message && <Alert severity=\"success\" sx={{ mb: 2 }}>{message}</Alert>}\n      <Box component=\"form\" onSubmit={handleLogin} sx={{ mb: 4 }}>\n        <TextField\n          label=\"Email\"\n          type=\"email\"\n          fullWidth\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          autoComplete=\"email\"\n        />\n        <TextField\n          label=\"Password\"\n          type=\"password\"\n          fullWidth\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          autoComplete=\"current-password\"\n        />\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth disabled={loading} sx={{ mt: 2 }}>\n          {loading ? 'Logging in...' : 'Login'}\n        </Button>\n        <Button onClick={handleSignup} variant=\"outlined\" color=\"secondary\" fullWidth disabled={loading} sx={{ mt: 1 }}>\n          {loading ? 'Signing up...' : 'Sign Up'}\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}